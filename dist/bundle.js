(()=>{"use strict";var e={41:(e,t,a)=>{a.d(t,{Z:()=>o});var s=a(81),r=a.n(s),i=a(645),n=a.n(i)()(r());n.push([e.id,"body{margin:0px;padding:0px;background-color:#282828}",""]);const o=n},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a="",s=void 0!==t[5];return t[4]&&(a+="@supports (".concat(t[4],") {")),t[2]&&(a+="@media ".concat(t[2]," {")),s&&(a+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),a+=e(t),s&&(a+="}"),t[2]&&(a+="}"),t[4]&&(a+="}"),a})).join("")},t.i=function(e,a,s,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var n={};if(s)for(var o=0;o<this.length;o++){var d=this[o][0];null!=d&&(n[d]=!0)}for(var c=0;c<e.length;c++){var h=[].concat(e[c]);s&&n[h[0]]||(void 0!==i&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=i),a&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=a):h[2]=a),r&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=r):h[4]="".concat(r)),t.push(h))}},t}},81:e=>{e.exports=function(e){return e[1]}},907:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var s=a(379),r=a.n(s),i=a(795),n=a.n(i),o=a(569),d=a.n(o),c=a(565),h=a.n(c),l=a(216),p=a.n(l),u=a(589),g=a.n(u),m=a(41),f={};f.styleTagTransform=g(),f.setAttributes=h(),f.insert=d().bind(null,"head"),f.domAPI=n(),f.insertStyleElement=p(),r()(m.Z,f);const y=m.Z&&m.Z.locals?m.Z.locals:void 0},379:e=>{var t=[];function a(e){for(var a=-1,s=0;s<t.length;s++)if(t[s].identifier===e){a=s;break}return a}function s(e,s){for(var i={},n=[],o=0;o<e.length;o++){var d=e[o],c=s.base?d[0]+s.base:d[0],h=i[c]||0,l="".concat(c," ").concat(h);i[c]=h+1;var p=a(l),u={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==p)t[p].references++,t[p].updater(u);else{var g=r(u,s);s.byIndex=o,t.splice(o,0,{identifier:l,updater:g,references:1})}n.push(l)}return n}function r(e,t){var a=t.domAPI(t);return a.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;a.update(e=t)}else a.remove()}}e.exports=function(e,r){var i=s(e=e||[],r=r||{});return function(e){e=e||[];for(var n=0;n<i.length;n++){var o=a(i[n]);t[o].references--}for(var d=s(e,r),c=0;c<i.length;c++){var h=a(i[c]);0===t[h].references&&(t[h].updater(),t.splice(h,1))}i=d}}},569:e=>{var t={};e.exports=function(e,a){var s=function(e){if(void 0===t[e]){var a=document.querySelector(e);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}t[e]=a}return t[e]}(e);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(a)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,a)=>{e.exports=function(e){var t=a.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(a){!function(e,t,a){var s="";a.supports&&(s+="@supports (".concat(a.supports,") {")),a.media&&(s+="@media ".concat(a.media," {"));var r=void 0!==a.layer;r&&(s+="@layer".concat(a.layer.length>0?" ".concat(a.layer):""," {")),s+=a.css,r&&(s+="}"),a.media&&(s+="}"),a.supports&&(s+="}");var i=a.sourceMap;i&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(s,e,t.options)}(t,e,a)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var i=t[s]={id:s,exports:{}};return e[s](i,i.exports,a),i.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nc=void 0,(()=>{const e={map:{width:1280,height:800},renderer:"CANVAS",container:"",defaultState:null,transparent:!1,antialias:!0,physics:"ARCADE",game:{angularVelocity:0,moveOffset:2,velocity:.007,maxSpeed:50,carSwing:20}};class t extends Phaser.State{preload(){this.game.load.image("button","assets/images/start_button.png"),this.game.load.image("background","assets/images/backgrounds/menu.jpg")}create(){this.game.stage.backgroundColor="#282828",this.game.add.sprite(0,0,"background"),this.game.add.button(this.game.world.centerX-120,120,"button",this._onClickHandler,this,2,1,0)}_onClickHandler(){this.game.state.start("Race")}}const s=t;let r=e.game.maxSpeed,i=e.game.moveOffset;class n extends Phaser.State{preload(){this.speed=0,this.game.load.image("player","assets/images/car.png"),this.game.load.image("road","assets/images/road.jpg"),this.game.load.image("grass","assets/images/grass.jpg"),this.game.load.image("diamond","assets/images/diamond.png"),this.game.world.setBounds(0,0,e.map.width,e.map.height)}create(){this._setupGrassSprite(),this._setupRoadSprite();let t=e.map.width/1.6,a=e.map.height-this.game.cache.getImage("player").height-50;this.diamonds=this.game.add.group(),this.diamonds.add(this.game.add.sprite(800,0,"diamond")),this.diamonds.add(this.game.add.sprite(t,a-100,"diamond")),this.diamonds.enableBody=!0,this.game.physics.arcade.enable(this.diamonds,Phaser.Physics.ARCADE),this.player=this._createPlayer(t,a),this.game.input.keyboard.createCursorKeys()}_setupRoadSprite(){this.road1=this._addTileSprite(-1,"road"),this.road2=this._addTileSprite(0,"road")}_setupGrassSprite(){this.grass1=this._addTileSprite(-1,"grass"),this.grass2=this._addTileSprite(0,"grass")}_createPlayer(t,a){let s=this.game.add.sprite(t,a,"player");return s.anchor.setTo(.5,.5),this.game.physics.arcade.enable(s,Phaser.Physics.ARCADE),s.body.immovable=!0,s.body.collideWorldBounds=!0,s.body.angularVelocity=e.game.angularVelocity,s.body.velocity.y=-100,s}_getOffset(e,t){return e*this.game.cache.getImage(t).height}_calcLeftOffset(t){return(e.map.width-this.game.cache.getImage(t).width)/2}_addTileSprite(t,a){let s=this._calcLeftOffset(a),i=this._getOffset(t,a),n=this.game.cache.getImage(a).width,o=e.map.height+2*r;return this.game.add.tileSprite(s,i,n,o,a)}_upToDown(t,a){t.y+=this.speed,t.y<e.map.height||"function"==typeof a&&a()}update(){this._setupControl(),this._updateScreen(),this.game.physics.arcade.collide(this.player,this.diamonds,((e,t)=>{t.destroy(),console.info("Execute: collideCallback")}))}_updateScreen(){this._upToDown(this.grass1,(()=>{this.grass1.y=this._getOffset(-1,"grass")})),this._upToDown(this.grass2,(()=>{this.grass2.y=this._getOffset(-1,"grass")})),this._upToDown(this.road1,(()=>{this.road1.y=this._getOffset(-1,"road")})),this._upToDown(this.road2,(()=>{this.road2.y=this._getOffset(-1,"road")})),this.diamonds.forEach((function(e){this._upToDown(e)}),this)}_setupControl(){let t=this.game.input.keyboard;t.isDown(Phaser.Keyboard.LEFT)?(this.player.x-=i,this.player.angle=-1*e.game.carSwing):t.isDown(Phaser.Keyboard.RIGHT)&&(this.player.x+=i,this.player.angle=e.game.carSwing),t.isDown(Phaser.Keyboard.UP)?this.speed=((t,a)=>{let s=this.speed+20*e.game.velocity;return s>r?r:s})():t.isDown(Phaser.Keyboard.DOWN)&&(this.speed=((t,a)=>{let s=this.speed-20*e.game.velocity;return s<0?0:s})()),t.onUpCallback=e=>{let t=e.keyCode==Phaser.Keyboard.LEFT,a=e.keyCode==Phaser.Keyboard.RIGHT;(t||a)&&(this.player.angle=0)}}}const o=n;a(907);let d={};d.settings=e,d.game=new Phaser.Game(e.map.width,e.map.height,Phaser[e.renderer],e.container,e.defaultState,e.transparent,e.antialias,e.physics),d.game.state.add("Menu",s),d.game.state.add("Race",o),d.game.state.start("Menu")})()})();